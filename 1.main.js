(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,e,n){"use strict";n.r(e),n.d(e,"parse_auto",function(){return p}),n.d(e,"parse_hex",function(){return y}),n.d(e,"parse_diag",function(){return d}),n.d(e,"__wbindgen_json_parse",function(){return b}),n.d(e,"__wbindgen_throw",function(){return m});var r=n(3);let o=new("object"==typeof self&&self.TextEncoder?self.TextEncoder:n(2).TextEncoder)("utf-8"),i=null;function u(){return null!==i&&i.buffer===r.c.buffer||(i=new Uint8Array(r.c.buffer)),i}function c(t){const e=o.encode(t),n=r.b(e.length);return u().set(e,n),[n,e.length]}const s=[],f=[{obj:void 0},{obj:null},{obj:!0},{obj:!1}];let l=f.length;function a(t){const e=function(t){return 1==(1&t)?s[t>>1]:f[t>>1].obj}(t);return function(t){if((t>>=1)<4)return;let e=f[t];e.cnt-=1,e.cnt>0||(f[t]=l,l=t)}(t),e}function p(t){const[e,n]=c(t);try{return a(r.d(e,n))}finally{r.a(e,1*n)}}function y(t){const[e,n]=c(t);try{return a(r.f(e,n))}finally{r.a(e,1*n)}}function d(t){const[e,n]=c(t);try{return a(r.e(e,n))}finally{r.a(e,1*n)}}let g=new("object"==typeof self&&self.TextDecoder?self.TextDecoder:n(2).TextDecoder)("utf-8");function h(t,e){return g.decode(u().subarray(t,t+e))}function b(t,e){return function(t){l===f.length&&f.push(f.length+1);const e=l,n=f[e];return l=n,f[e]={obj:t,cnt:1},e<<1}(JSON.parse(h(t,e)))}function m(t,e){throw new Error(h(t,e))}},function(t,e,n){(function(t,r){var o=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,u=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])g(s)||!v(s)?u+=" "+s:u+=" "+c(s);return u},e.deprecate=function(n,o){if(m(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var i,u={};function c(t,n){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,t,r.depth)}function s(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function f(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return b(o)||(o=l(t,o,r)),o}var i=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(h(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(i)return i;var u=Object.keys(n),c=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),x(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return a(n);if(0===u.length){if(O(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return a(n)}var f,v="",T=!1,E=["{","}"];(y(n)&&(T=!0,E=["[","]"]),O(n))&&(v=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(v=" "+RegExp.prototype.toString.call(n)),j(n)&&(v=" "+Date.prototype.toUTCString.call(n)),x(n)&&(v=" "+a(n)),0!==u.length||T&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),f=T?function(t,e,n,r,o){for(var i=[],u=0,c=e.length;u<c;++u)z(e,String(u))?i.push(p(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}(t,n,r,c,u):u.map(function(e){return p(t,n,r,c,e,T)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(f,v,E)):E[0]+v+E[1]}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o,i){var u,c,s;if((s=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(c=t.stylize("[Setter]","special")),z(r,o)||(u="["+o+"]"),c||(t.seen.indexOf(s.value)<0?(c=g(n)?l(t,s.value,null):l(t,s.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n")):c=t.stylize("[Circular]","special")),m(u)){if(i&&o.match(/^\d+$/))return c;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+c}function y(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function h(t){return"number"==typeof t}function b(t){return"string"==typeof t}function m(t){return void 0===t}function w(t){return v(t)&&"[object RegExp]"===T(t)}function v(t){return"object"==typeof t&&null!==t}function j(t){return v(t)&&"[object Date]"===T(t)}function x(t){return v(t)&&("[object Error]"===T(t)||t instanceof Error)}function O(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(m(i)&&(i=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!u[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=r.pid;u[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else u[t]=function(){};return u[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=y,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=h,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=w,e.isObject=v,e.isDate=j,e.isError=x,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(6);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n(7),e._extend=function(t,e){if(!e||!v(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,n(4),n(5))},function(t,e,n){"use strict";var r=n.w[t.i];t.exports=r;n(1);r.g()},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var s,f=[],l=!1,a=-1;function p(){l&&s&&(l=!1,s.length?f=s.concat(f):a=-1,f.length&&y())}function y(){if(!l){var t=c(p);l=!0;for(var e=f.length;e;){for(s=f,f=[];++a<e;)s&&s[a].run();a=-1,e=f.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new d(t,e)),1!==f.length||l||c(y)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9idWlsZC9jYm9yX25lbW8xNTdfY29tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIl0sIm5hbWVzIjpbIl9jYm9yX25lbW8xNTdfY29tX2JnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiY2FjaGVkRW5jb2RlciIsInNlbGYiLCJUZXh0RW5jb2RlciIsImNhY2hlZ2V0VWludDhNZW1vcnkiLCJnZXRVaW50OE1lbW9yeSIsImJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJwYXNzU3RyaW5nVG9XYXNtIiwiYXJnIiwiYnVmIiwiZW5jb2RlIiwicHRyIiwibGVuZ3RoIiwic2V0Iiwic3RhY2siLCJzbGFiIiwib2JqIiwidW5kZWZpbmVkIiwic2xhYl9uZXh0IiwidGFrZU9iamVjdCIsImlkeCIsInJldCIsImdldE9iamVjdCIsImNudCIsImRyb3BSZWYiLCJwYXJzZV9hdXRvIiwiYXJnMCIsInB0cjAiLCJsZW4wIiwicGFyc2VfaGV4IiwicGFyc2VfZGlhZyIsImNhY2hlZERlY29kZXIiLCJUZXh0RGVjb2RlciIsImdldFN0cmluZ0Zyb21XYXNtIiwibGVuIiwiZGVjb2RlIiwic3ViYXJyYXkiLCJfX3diaW5kZ2VuX2pzb25fcGFyc2UiLCJwdXNoIiwibmV4dCIsImFkZEhlYXBPYmplY3QiLCJKU09OIiwicGFyc2UiLCJfX3diaW5kZ2VuX3Rocm93IiwiRXJyb3IiLCJnbG9iYWwiLCJwcm9jZXNzIiwiZm9ybWF0UmVnRXhwIiwiZXhwb3J0cyIsImZvcm1hdCIsImYiLCJpc1N0cmluZyIsIm9iamVjdHMiLCJpIiwiYXJndW1lbnRzIiwiaW5zcGVjdCIsImpvaW4iLCJhcmdzIiwic3RyIiwiU3RyaW5nIiwicmVwbGFjZSIsIngiLCJOdW1iZXIiLCJzdHJpbmdpZnkiLCJfIiwiaXNOdWxsIiwiaXNPYmplY3QiLCJkZXByZWNhdGUiLCJmbiIsIm1zZyIsImlzVW5kZWZpbmVkIiwiYXBwbHkiLCJ0aGlzIiwibm9EZXByZWNhdGlvbiIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJ0cmFjZURlcHJlY2F0aW9uIiwiY29uc29sZSIsInRyYWNlIiwiZXJyb3IiLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJvcHRzIiwiY3R4Iiwic2VlbiIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwiaXNCb29sZWFuIiwic2hvd0hpZGRlbiIsIl9leHRlbmQiLCJjdXN0b21JbnNwZWN0Iiwic3R5bGl6ZVdpdGhDb2xvciIsImZvcm1hdFZhbHVlIiwic3R5bGVUeXBlIiwic3R5bGUiLCJzdHlsZXMiLCJ2YWx1ZSIsInJlY3Vyc2VUaW1lcyIsImlzRnVuY3Rpb24iLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsInByaW1pdGl2ZSIsInNpbXBsZSIsImlzTnVtYmVyIiwiZm9ybWF0UHJpbWl0aXZlIiwia2V5cyIsIk9iamVjdCIsInZpc2libGVLZXlzIiwiYXJyYXkiLCJoYXNoIiwiZm9yRWFjaCIsInZhbCIsImFycmF5VG9IYXNoIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImlzRXJyb3IiLCJpbmRleE9mIiwiZm9ybWF0RXJyb3IiLCJuYW1lIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImNhbGwiLCJpc0RhdGUiLCJEYXRlIiwib3V0cHV0IiwiYmFzZSIsImJyYWNlcyIsImlzQXJyYXkiLCJ0b1VUQ1N0cmluZyIsImwiLCJoYXNPd25Qcm9wZXJ0eSIsImZvcm1hdFByb3BlcnR5Iiwia2V5IiwibWF0Y2giLCJmb3JtYXRBcnJheSIsIm1hcCIsInBvcCIsInJlZHVjZSIsInByZXYiLCJjdXIiLCJudW1MaW5lc0VzdCIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsImFyIiwiQXJyYXkiLCJyZSIsIm9iamVjdFRvU3RyaW5nIiwiZCIsImUiLCJvIiwicGFkIiwibiIsImRlYnVnbG9nIiwiZW52IiwiTk9ERV9ERUJVRyIsInRvVXBwZXJDYXNlIiwidGVzdCIsInBpZCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJpbnZlcnNlIiwid2hpdGUiLCJncmV5IiwiYmxhY2siLCJibHVlIiwiY3lhbiIsImdyZWVuIiwibWFnZW50YSIsInJlZCIsInllbGxvdyIsInNwZWNpYWwiLCJudW1iZXIiLCJib29sZWFuIiwibnVsbCIsInN0cmluZyIsImRhdGUiLCJyZWdleHAiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwiaXNQcmltaXRpdmUiLCJpc0J1ZmZlciIsIm1vbnRocyIsInByb3AiLCJsb2ciLCJ0aW1lIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldERhdGUiLCJnZXRNb250aCIsInRpbWVzdGFtcCIsImluaGVyaXRzIiwib3JpZ2luIiwiYWRkIiwiZyIsIkZ1bmN0aW9uIiwiZXZhbCIsIndpbmRvdyIsIm1vZHVsZSIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJjb3B5IiwiZmlsbCIsInJlYWRVSW50OCIsImNyZWF0ZSIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJUZW1wQ3RvciJdLCJtYXBwaW5ncyI6IjJUQUFBLElBQUFBLEVBQUFDLEVBQUEsR0FPQSxJQUFBQyxFQUFBLElBSkEsaUJBQUFDLFdBQUFDLFlBQ0FELEtBQUFDLFlBQ0FILEVBQUEsR0FBQUcsYUFFQSxTQUVBQyxFQUFBLEtBQ0EsU0FBQUMsSUFJQSxPQUhBLE9BQUFELEtBQUFFLFNBQUFQLEVBQUEsRUFBQU8sU0FDQUYsRUFBQSxJQUFBRyxXQUFBUixFQUFBLEVBQUFPLFNBRUFGLEVBR0EsU0FBQUksRUFBQUMsR0FFQSxNQUFBQyxFQUFBVCxFQUFBVSxPQUFBRixHQUNBRyxFQUFBYixFQUFBLEVBQUFXLEVBQUFHLFFBRUEsT0FEQVIsSUFBQVMsSUFBQUosRUFBQUUsSUFDQUEsRUFBQUYsRUFBQUcsUUFHQSxNQUFBRSxLQUVBQyxJQUFlQyxTQUFBQyxJQUFvQkQsSUFBQSxPQUFlQSxLQUFBLElBQWVBLEtBQUEsSUFhakUsSUFBQUUsRUFBQUgsRUFBQUgsT0FnQkEsU0FBQU8sRUFBQUMsR0FDQSxNQUFBQyxFQTVCQSxTQUFBRCxHQUNBLGFBQUFBLEdBQ0FOLEVBQUFNLEdBQUEsR0FFQUwsRUFBQUssR0FBQSxHQUVBSixJQXNCQU0sQ0FB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QUFBM0UsTUFBQSxxQ0FHQUUsRUFBQXVNLElBQUEsV0FBMkIsV0FDM0J2TSxFQUFBd00sTUFBQSxTQUFBQyxHQUNBLFVBQUEzTSxNQUFBLG1DQUVBRSxFQUFBME0sTUFBQSxXQUE0Qix5QkN2TDVCMUMsRUFBQTlKLFFBQUEsU0FBQXhDLEdBQ0EsT0FBQUEsR0FBQSxpQkFBQUEsR0FDQSxtQkFBQUEsRUFBQWlQLE1BQ0EsbUJBQUFqUCxFQUFBa1AsTUFDQSxtQkFBQWxQLEVBQUFtUCwwQkNKQSxtQkFBQS9JLE9BQUFnSixPQUVBOUMsRUFBQTlKLFFBQUEsU0FBQTZNLEVBQUFDLEdBQ0FELEVBQUFFLE9BQUFELEVBQ0FELEVBQUF2SixVQUFBTSxPQUFBZ0osT0FBQUUsRUFBQXhKLFdBQ0FELGFBQ0FILE1BQUEySixFQUNBRyxZQUFBLEVBQ0FDLFVBQUEsRUFDQUMsY0FBQSxNQU1BcEQsRUFBQTlKLFFBQUEsU0FBQTZNLEVBQUFDLEdBQ0FELEVBQUFFLE9BQUFELEVBQ0EsSUFBQUssRUFBQSxhQUNBQSxFQUFBN0osVUFBQXdKLEVBQUF4SixVQUNBdUosRUFBQXZKLFVBQUEsSUFBQTZKLEVBQ0FOLEVBQUF2SixVQUFBRCxZQUFBd0oiLCJmaWxlIjoiMS5tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGUgKi9cbmltcG9ydCAqIGFzIHdhc20gZnJvbSAnLi9jYm9yX25lbW8xNTdfY29tX2JnJztcblxuY29uc3QgVGV4dEVuY29kZXIgPSB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5UZXh0RW5jb2RlclxuICAgID8gc2VsZi5UZXh0RW5jb2RlclxuICAgIDogcmVxdWlyZSgndXRpbCcpLlRleHRFbmNvZGVyO1xuXG5sZXQgY2FjaGVkRW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigndXRmLTgnKTtcblxubGV0IGNhY2hlZ2V0VWludDhNZW1vcnkgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDhNZW1vcnkoKSB7XG4gICAgaWYgKGNhY2hlZ2V0VWludDhNZW1vcnkgPT09IG51bGwgfHwgY2FjaGVnZXRVaW50OE1lbW9yeS5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQ4TWVtb3J5ID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDhNZW1vcnk7XG59XG5cbmZ1bmN0aW9uIHBhc3NTdHJpbmdUb1dhc20oYXJnKSB7XG4gICAgXG4gICAgY29uc3QgYnVmID0gY2FjaGVkRW5jb2Rlci5lbmNvZGUoYXJnKTtcbiAgICBjb25zdCBwdHIgPSB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKGJ1Zi5sZW5ndGgpO1xuICAgIGdldFVpbnQ4TWVtb3J5KCkuc2V0KGJ1ZiwgcHRyKTtcbiAgICByZXR1cm4gW3B0ciwgYnVmLmxlbmd0aF07XG59XG5cbmNvbnN0IHN0YWNrID0gW107XG5cbmNvbnN0IHNsYWIgPSBbeyBvYmo6IHVuZGVmaW5lZCB9LCB7IG9iajogbnVsbCB9LCB7IG9iajogdHJ1ZSB9LCB7IG9iajogZmFsc2UgfV07XG5cbmZ1bmN0aW9uIGdldE9iamVjdChpZHgpIHtcbiAgICBpZiAoKGlkeCAmIDEpID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFja1tpZHggPj4gMV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsID0gc2xhYltpZHggPj4gMV07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdmFsLm9iajtcbiAgICAgICAgXG4gICAgfVxufVxuXG5sZXQgc2xhYl9uZXh0ID0gc2xhYi5sZW5ndGg7XG5cbmZ1bmN0aW9uIGRyb3BSZWYoaWR4KSB7XG4gICAgXG4gICAgaWR4ID0gaWR4ID4+IDE7XG4gICAgaWYgKGlkeCA8IDQpIHJldHVybjtcbiAgICBsZXQgb2JqID0gc2xhYltpZHhdO1xuICAgIFxuICAgIG9iai5jbnQgLT0gMTtcbiAgICBpZiAob2JqLmNudCA+IDApIHJldHVybjtcbiAgICBcbiAgICAvLyBJZiB3ZSBoaXQgMCB0aGVuIGZyZWUgdXAgb3VyIHNwYWNlIGluIHRoZSBzbGFiXG4gICAgc2xhYltpZHhdID0gc2xhYl9uZXh0O1xuICAgIHNsYWJfbmV4dCA9IGlkeDtcbn1cblxuZnVuY3Rpb24gdGFrZU9iamVjdChpZHgpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoaWR4KTtcbiAgICBkcm9wUmVmKGlkeCk7XG4gICAgcmV0dXJuIHJldDtcbn1cbi8qKlxuKiBAcGFyYW0ge3N0cmluZ30gYXJnMFxuKiBAcmV0dXJucyB7YW55fVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZV9hdXRvKGFyZzApIHtcbiAgICBjb25zdCBbcHRyMCwgbGVuMF0gPSBwYXNzU3RyaW5nVG9XYXNtKGFyZzApO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0YWtlT2JqZWN0KHdhc20ucGFyc2VfYXV0byhwdHIwLCBsZW4wKSk7XG4gICAgICAgIFxuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHB0cjAsIGxlbjAgKiAxKTtcbiAgICAgICAgXG4gICAgfVxuICAgIFxufVxuXG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IGFyZzBcbiogQHJldHVybnMge2FueX1cbiovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VfaGV4KGFyZzApIHtcbiAgICBjb25zdCBbcHRyMCwgbGVuMF0gPSBwYXNzU3RyaW5nVG9XYXNtKGFyZzApO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0YWtlT2JqZWN0KHdhc20ucGFyc2VfaGV4KHB0cjAsIGxlbjApKTtcbiAgICAgICAgXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocHRyMCwgbGVuMCAqIDEpO1xuICAgICAgICBcbiAgICB9XG4gICAgXG59XG5cbi8qKlxuKiBAcGFyYW0ge3N0cmluZ30gYXJnMFxuKiBAcmV0dXJucyB7YW55fVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZV9kaWFnKGFyZzApIHtcbiAgICBjb25zdCBbcHRyMCwgbGVuMF0gPSBwYXNzU3RyaW5nVG9XYXNtKGFyZzApO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0YWtlT2JqZWN0KHdhc20ucGFyc2VfZGlhZyhwdHIwLCBsZW4wKSk7XG4gICAgICAgIFxuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHB0cjAsIGxlbjAgKiAxKTtcbiAgICAgICAgXG4gICAgfVxuICAgIFxufVxuXG5mdW5jdGlvbiBhZGRIZWFwT2JqZWN0KG9iaikge1xuICAgIGlmIChzbGFiX25leHQgPT09IHNsYWIubGVuZ3RoKSBzbGFiLnB1c2goc2xhYi5sZW5ndGggKyAxKTtcbiAgICBjb25zdCBpZHggPSBzbGFiX25leHQ7XG4gICAgY29uc3QgbmV4dCA9IHNsYWJbaWR4XTtcbiAgICBcbiAgICBzbGFiX25leHQgPSBuZXh0O1xuICAgIFxuICAgIHNsYWJbaWR4XSA9IHsgb2JqLCBjbnQ6IDEgfTtcbiAgICByZXR1cm4gaWR4IDw8IDE7XG59XG5cbmNvbnN0IFRleHREZWNvZGVyID0gdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuVGV4dERlY29kZXJcbiAgICA/IHNlbGYuVGV4dERlY29kZXJcbiAgICA6IHJlcXVpcmUoJ3V0aWwnKS5UZXh0RGVjb2RlcjtcblxubGV0IGNhY2hlZERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04Jyk7XG5cbmZ1bmN0aW9uIGdldFN0cmluZ0Zyb21XYXNtKHB0ciwgbGVuKSB7XG4gICAgcmV0dXJuIGNhY2hlZERlY29kZXIuZGVjb2RlKGdldFVpbnQ4TWVtb3J5KCkuc3ViYXJyYXkocHRyLCBwdHIgKyBsZW4pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fanNvbl9wYXJzZShwdHIsIGxlbikge1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KEpTT04ucGFyc2UoZ2V0U3RyaW5nRnJvbVdhc20ocHRyLCBsZW4pKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diaW5kZ2VuX3Rocm93KHB0ciwgbGVuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGdldFN0cmluZ0Zyb21XYXNtKHB0ciwgbGVuKSk7XG59XG5cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==