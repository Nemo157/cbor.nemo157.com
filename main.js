!function(e){function t(t){for(var n,r,a=t[0],c=t[1],i=0,l=[];i<a.length;i++)r=a[i],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(s&&s(t);l.length;)l.shift()()}var n={},o={0:0};var r={};var a={5:function(){return{"./index_bg.js":{__wbindgen_json_parse:function(e,t){return n[4].exports.a(e,t)}}}}};function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=function(e){return c.p+""+e+".main.js"}(e);var s=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,n[1](s)}o[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return({1:[5]}[e]||[]).forEach((function(e){var n=r[e];if(n)t.push(n);else{var o,i=a[e](),l=fetch(c.p+""+{5:"d94cfd02c2b98d4df2bd"}[e]+".module.wasm");if(i instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)o=Promise.all([WebAssembly.compileStreaming(l),i]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"==typeof WebAssembly.instantiateStreaming)o=WebAssembly.instantiateStreaming(l,i);else{o=l.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,i)}))}t.push(r[e]=o.then((function(t){return c.w[e]=(t.instance||t).exports})))}})),Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e},c.w={};var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;c(c.s=1)}([function(e,t,n){"use strict";var o=n(2),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,c,i,l,u,s=!1;t||(t={}),n=t.debug||!1;try{if(c=o(),i=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(o){if(o.stopPropagation(),t.format)if(o.preventDefault(),void 0===o.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=r[t.format]||r.default;window.clipboardData.setData(a,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e);t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))})),document.body.appendChild(u),i.selectNodeContents(u),l.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(o){n&&console.error("unable to copy using execCommand: ",o),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(o){n&&console.error("unable to copy using clipboardData: ",o),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(i):l.removeAllRanges()),u&&document.body.removeChild(u),c()}return s}},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o);const a=n.e(1).then(n.bind(null,3)),c=document.getElementById("input"),i=document.getElementById("submit"),l=document.getElementById("hex"),u=document.getElementById("diag"),s=document.getElementById("save"),d=document.getElementById("saved"),p=document.getElementById("copy-button"),m=document.getElementById("copied");function f(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function y(e){try{return JSON.parse(window.localStorage.getItem(e))}catch(e){}}try{const e=window.localStorage.getItem("dark");e&&(f("theme",JSON.parse(e)?"dark":"light"),window.localStorage.removeItem("dark"))}catch(e){}const g=y("theme")||"auto";document.querySelector(`input[name="theme"][value="${g}"]`).checked=!0,document.body.dataset.theme=g;for(const e of document.querySelectorAll('input[name="theme"]'))e.addEventListener("click",()=>{f("theme",e.value),document.body.dataset.theme=e.value});a.then(e=>{function t(t,n){let o;switch(t){case"auto":o=e.parse_auto(n);break;case"hex":o=e.parse_hex(n);break;case"diag":o=e.parse_diag(n)}if(o.Err)throw o.Err;l.textContent=o.Ok[0],u.textContent=o.Ok[1]}const n=()=>{const e=document.querySelector('input[name="type"]:checked').value;f("type",e),f("value",c.value);try{t(e,c.value)}catch(e){l.textContent=e,u.textContent=""}};i.addEventListener("click",n),s.addEventListener("click",()=>{const e=document.querySelector('input[name="type"]:checked').value;let t=new URL(document.location.toString());t.searchParams.set("type",e),t.searchParams.set("value",c.value),d.href=t.toString(),d.text="Permalink to the playground",p.style.display="inline-block"});let o=setTimeout(()=>{},0);p.addEventListener("click",()=>{r()(d.href,{format:"text/plain"})&&(m.style.display="inline-block",m.style.transition="opacity 0.1s",m.style.opacity="1",clearTimeout(o),o=setTimeout(()=>{m.style.transition="opacity 5s",m.style.opacity="0",o=setTimeout(()=>{m.style.display="none"},5e3)},100))}),c.addEventListener("keydown",e=>{13==e.keyCode&&(e.metaKey||e.ctrlKey)&&n()}),c.addEventListener("keyup",()=>{(()=>{const e=document.querySelector('input[name="type"]:checked').value;try{t(e,c.value),f("type",e),f("value",c.value)}catch(e){console.debug("Failure while trying: "+e)}})()});let a=new URL(document.location.toString()),g=a.searchParams.get("type"),h=a.searchParams.get("value");g&&h||(g=y("type"),h=y("value")),h||(g="hex",h="bf6346756ef563416d7421ff"),g&&h&&(document.querySelector(`input[name="type"][value="${g}"]`).checked=!0,c.value=h,t(g,h))},e=>l.textContent=e)},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcHktdG8tY2xpcGJvYXJkL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90b2dnbGUtc2VsZWN0aW9uL2luZGV4LmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiaW5zdGFsbGVkV2FzbU1vZHVsZXMiLCJ3YXNtSW1wb3J0T2JqZWN0cyIsIjUiLCJwMGkzMiIsInAxaTMyIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJsIiwiZSIsInByb21pc2VzIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25TY3JpcHRDb21wbGV0ZSIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJ0aW1lb3V0IiwibmMiLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJwIiwianNvbnBTY3JpcHRTcmMiLCJlcnJvciIsIkVycm9yIiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiY2h1bmsiLCJlcnJvclR5cGUiLCJ0eXBlIiwicmVhbFNyYyIsInRhcmdldCIsIm1lc3NhZ2UiLCJuYW1lIiwicmVxdWVzdCIsInVuZGVmaW5lZCIsInNldFRpbWVvdXQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJmb3JFYWNoIiwid2FzbU1vZHVsZUlkIiwiaW5zdGFsbGVkV2FzbU1vZHVsZURhdGEiLCJpbXBvcnRPYmplY3QiLCJyZXEiLCJmZXRjaCIsIldlYkFzc2VtYmx5IiwiY29tcGlsZVN0cmVhbWluZyIsImFsbCIsInRoZW4iLCJpdGVtcyIsImluc3RhbnRpYXRlIiwiaW5zdGFudGlhdGVTdHJlYW1pbmciLCJ4IiwiYXJyYXlCdWZmZXIiLCJieXRlcyIsInJlcyIsInciLCJpbnN0YW5jZSIsIm0iLCJjIiwiZCIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsIm9lIiwiZXJyIiwiY29uc29sZSIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJzIiwiZGVzZWxlY3RDdXJyZW50IiwiY2xpcGJvYXJkVG9JRTExRm9ybWF0dGluZyIsInRleHQiLCJvcHRpb25zIiwiZGVidWciLCJyZXNlbGVjdFByZXZpb3VzIiwicmFuZ2UiLCJzZWxlY3Rpb24iLCJtYXJrIiwic3VjY2VzcyIsImNyZWF0ZVJhbmdlIiwiZ2V0U2VsZWN0aW9uIiwidGV4dENvbnRlbnQiLCJzdHlsZSIsInBvc2l0aW9uIiwidG9wIiwiY2xpcCIsIndoaXRlU3BhY2UiLCJ3ZWJraXRVc2VyU2VsZWN0IiwiTW96VXNlclNlbGVjdCIsIm1zVXNlclNlbGVjdCIsInVzZXJTZWxlY3QiLCJhZGRFdmVudExpc3RlbmVyIiwic3RvcFByb3BhZ2F0aW9uIiwiZm9ybWF0IiwicHJldmVudERlZmF1bHQiLCJjbGlwYm9hcmREYXRhIiwid2FybiIsImNsZWFyRGF0YSIsInNldERhdGEiLCJvbkNvcHkiLCJib2R5Iiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiYWRkUmFuZ2UiLCJleGVjQ29tbWFuZCIsImNvcHlLZXkiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwicmVwbGFjZSIsInByb21wdCIsInJlbW92ZVJhbmdlIiwicmVtb3ZlQWxsUmFuZ2VzIiwicmVtb3ZlQ2hpbGQiLCJjYm9yIiwiaW5wdXQiLCJnZXRFbGVtZW50QnlJZCIsInN1Ym1pdCIsImhleCIsImRpYWciLCJzYXZlIiwic2F2ZWQiLCJjb3B5QnV0dG9uIiwiY29waWVkIiwic3RvcmUiLCJzZXR0aW5nIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2FkIiwicGFyc2UiLCJnZXRJdGVtIiwiZGFyayIsInJlbW92ZUl0ZW0iLCJ0aGVtZSIsInF1ZXJ5U2VsZWN0b3IiLCJjaGVja2VkIiwiZGF0YXNldCIsImVsIiwicXVlcnlTZWxlY3RvckFsbCIsInJlc3VsdCIsInBhcnNlX2F1dG8iLCJwYXJzZV9oZXgiLCJwYXJzZV9kaWFnIiwiRXJyIiwiT2siLCJwcm9jZXNzIiwidXJsIiwiVVJMIiwibG9jYXRpb24iLCJ0b1N0cmluZyIsInNlYXJjaFBhcmFtcyIsInNldCIsImhyZWYiLCJkaXNwbGF5IiwiY29weVRpbWVvdXQiLCJ0cmFuc2l0aW9uIiwib3BhY2l0eSIsImtleUNvZGUiLCJtZXRhS2V5IiwiY3RybEtleSIsInRyeVByb2Nlc3MiLCJyYW5nZUNvdW50IiwiYWN0aXZlIiwiYWN0aXZlRWxlbWVudCIsInJhbmdlcyIsImdldFJhbmdlQXQiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJibHVyIiwiZm9jdXMiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FLQUssRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJRixFQUFTSSxPQUFRRixJQUN6QkgsRUFBVUMsRUFBU0UsR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtB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QyxRQUFRVSxNQUFNLHlCQUF5QlgsS0F3Q3pDbUcsS0FHRixJQUFJZCxFQUFNLElBQUlDLElBQUkzSixTQUFTNEosU0FBU0MsWUFDaEM1SSxFQUFPeUksRUFBSUksYUFBYXpHLElBQUksUUFDNUJJLEVBQVFpRyxFQUFJSSxhQUFhekcsSUFBSSxTQUU1QnBDLEdBQVN3QyxJQUNaeEMsRUFBT3VILEVBQUssUUFDWi9FLEVBQVErRSxFQUFLLFVBR1YvRSxJQUNIeEMsRUFBTyxNQUNQd0MsRUFBUSw0QkFHTnhDLEdBQVF3QyxJQUNTekQsU0FBUzhJLGNBQWMsNkJBQTZCN0gsT0FBVzhILFNBQVUsRUFDNUZ0QixFQUFNaEUsTUFBUUEsRUFDZGdGLEVBQU14SCxFQUFNd0MsS0FHYlksR0FBT3VELEVBQUlwQyxZQUFjbkIsSSxjQzFKNUJoRixFQUFPRixRQUFVLFdBQ2YsSUFBSWdHLEVBQVluRixTQUFTdUYsZUFDekIsSUFBS0osRUFBVXNGLFdBQ2IsT0FBTyxhQUtULElBSEEsSUFBSUMsRUFBUzFLLFNBQVMySyxjQUVsQkMsRUFBUyxHQUNKNU0sRUFBSSxFQUFHQSxFQUFJbUgsRUFBVXNGLFdBQVl6TSxJQUN4QzRNLEVBQU9wTSxLQUFLMkcsRUFBVTBGLFdBQVc3TSxJQUduQyxPQUFRME0sRUFBT0ksUUFBUUMsZUFDckIsSUFBSyxRQUNMLElBQUssV0FDSEwsRUFBT00sT0FDUCxNQUVGLFFBQ0VOLEVBQVMsS0FLYixPQURBdkYsRUFBVW1DLGtCQUNILFdBQ2MsVUFBbkJuQyxFQUFVbEUsTUFDVmtFLEVBQVVtQyxrQkFFTG5DLEVBQVVzRixZQUNiRyxFQUFPakosU0FBUSxTQUFTdUQsR0FDdEJDLEVBQVUwQixTQUFTM0IsTUFJdkJ3RixHQUNBQSxFQUFPTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG5cblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0fTtcblxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMFxuIFx0fTtcblxuXG5cbiBcdC8vIHNjcmlwdCBwYXRoIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4gXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLm1haW4uanNcIlxuIFx0fVxuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIHdhc20gbW9kdWxlc1xuIFx0dmFyIGluc3RhbGxlZFdhc21Nb2R1bGVzID0ge307XG5cbiBcdGZ1bmN0aW9uIHByb21pc2VSZXNvbHZlKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7IH1cblxuIFx0dmFyIHdhc21JbXBvcnRPYmplY3RzID0ge1xuIFx0XHQ1OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XCIuL2luZGV4X2JnLmpzXCI6IHtcbiBcdFx0XHRcdFx0XCJfX3diaW5kZ2VuX2pzb25fcGFyc2VcIjogZnVuY3Rpb24ocDBpMzIscDFpMzIpIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1s0XS5leHBvcnRzW1wiYVwiXShwMGkzMixwMWkzMik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9LFxuIFx0fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG4gXHQvLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4gXHQvLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3NcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZSA9IGZ1bmN0aW9uIHJlcXVpcmVFbnN1cmUoY2h1bmtJZCkge1xuIFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcblxuXG4gXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblxuIFx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cbiBcdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG4gXHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuIFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuIFx0XHRcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuIFx0XHRcdFx0dmFyIG9uU2NyaXB0Q29tcGxldGU7XG5cbiBcdFx0XHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04JztcbiBcdFx0XHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuIFx0XHRcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcbiBcdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c2NyaXB0LnNyYyA9IGpzb25wU2NyaXB0U3JjKGNodW5rSWQpO1xuXG4gXHRcdFx0XHQvLyBjcmVhdGUgZXJyb3IgYmVmb3JlIHN0YWNrIHVud291bmQgdG8gZ2V0IHVzZWZ1bCBzdGFja3RyYWNlIGxhdGVyXG4gXHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcbiBcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiBcdFx0XHRcdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuIFx0XHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuIFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG4gXHRcdFx0XHRcdHZhciBjaHVuayA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0XHRcdFx0aWYoY2h1bmsgIT09IDApIHtcbiBcdFx0XHRcdFx0XHRpZihjaHVuaykge1xuIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcbiBcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG4gXHRcdFx0XHRcdFx0XHRjaHVua1sxXShlcnJvcik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fTtcbiBcdFx0XHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuIFx0XHRcdFx0XHRvblNjcmlwdENvbXBsZXRlKHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KTtcbiBcdFx0XHRcdH0sIDEyMDAwMCk7XG4gXHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlO1xuIFx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIEZldGNoICsgY29tcGlsZSBjaHVuayBsb2FkaW5nIGZvciB3ZWJhc3NlbWJseVxuXG4gXHRcdHZhciB3YXNtTW9kdWxlcyA9IHtcIjFcIjpbNV19W2NodW5rSWRdIHx8IFtdO1xuXG4gXHRcdHdhc21Nb2R1bGVzLmZvckVhY2goZnVuY3Rpb24od2FzbU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIGluc3RhbGxlZFdhc21Nb2R1bGVEYXRhID0gaW5zdGFsbGVkV2FzbU1vZHVsZXNbd2FzbU1vZHVsZUlkXTtcblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIgb3IgXCJhbHJlYWR5IGxvYWRlZFwiLlxuIFx0XHRcdGlmKGluc3RhbGxlZFdhc21Nb2R1bGVEYXRhKVxuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRXYXNtTW9kdWxlRGF0YSk7XG4gXHRcdFx0ZWxzZSB7XG4gXHRcdFx0XHR2YXIgaW1wb3J0T2JqZWN0ID0gd2FzbUltcG9ydE9iamVjdHNbd2FzbU1vZHVsZUlkXSgpO1xuIFx0XHRcdFx0dmFyIHJlcSA9IGZldGNoKF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyB7XCI1XCI6XCJkOTRjZmQwMmMyYjk4ZDRkZjJiZFwifVt3YXNtTW9kdWxlSWRdICsgXCIubW9kdWxlLndhc21cIik7XG4gXHRcdFx0XHR2YXIgcHJvbWlzZTtcbiBcdFx0XHRcdGlmKGltcG9ydE9iamVjdCBpbnN0YW5jZW9mIFByb21pc2UgJiYgdHlwZW9mIFdlYkFzc2VtYmx5LmNvbXBpbGVTdHJlYW1pbmcgPT09ICdmdW5jdGlvbicpIHtcbiBcdFx0XHRcdFx0cHJvbWlzZSA9IFByb21pc2UuYWxsKFtXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nKHJlcSksIGltcG9ydE9iamVjdF0pLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoaXRlbXNbMF0sIGl0ZW1zWzFdKTtcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9IGVsc2UgaWYodHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gXHRcdFx0XHRcdHByb21pc2UgPSBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXEsIGltcG9ydE9iamVjdCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHR2YXIgYnl0ZXNQcm9taXNlID0gcmVxLnRoZW4oZnVuY3Rpb24oeCkgeyByZXR1cm4geC5hcnJheUJ1ZmZlcigpOyB9KTtcbiBcdFx0XHRcdFx0cHJvbWlzZSA9IGJ5dGVzUHJvbWlzZS50aGVuKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJ5dGVzLCBpbXBvcnRPYmplY3QpO1xuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkV2FzbU1vZHVsZXNbd2FzbU1vZHVsZUlkXSA9IHByb21pc2UudGhlbihmdW5jdGlvbihyZXMpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ud1t3YXNtTW9kdWxlSWRdID0gKHJlcy5pbnN0YW5jZSB8fCByZXMpLmV4cG9ydHM7XG4gXHRcdFx0XHR9KSk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcbiBcdFx0cmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiBcdH07XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gb24gZXJyb3IgZnVuY3Rpb24gZm9yIGFzeW5jIGxvYWRpbmdcbiBcdF9fd2VicGFja19yZXF1aXJlX18ub2UgPSBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH07XG5cbiBcdC8vIG9iamVjdCB3aXRoIGFsbCBXZWJBc3NlbWJseS5pbnN0YW5jZSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLncgPSB7fTtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGRlc2VsZWN0Q3VycmVudCA9IHJlcXVpcmUoXCJ0b2dnbGUtc2VsZWN0aW9uXCIpO1xuXG52YXIgY2xpcGJvYXJkVG9JRTExRm9ybWF0dGluZyA9IHtcbiAgXCJ0ZXh0L3BsYWluXCI6IFwiVGV4dFwiLFxuICBcInRleHQvaHRtbFwiOiBcIlVybFwiLFxuICBcImRlZmF1bHRcIjogXCJUZXh0XCJcbn1cblxudmFyIGRlZmF1bHRNZXNzYWdlID0gXCJDb3B5IHRvIGNsaXBib2FyZDogI3trZXl9LCBFbnRlclwiO1xuXG5mdW5jdGlvbiBmb3JtYXQobWVzc2FnZSkge1xuICB2YXIgY29weUtleSA9ICgvbWFjIG9zIHgvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpID8gXCLijJhcIiA6IFwiQ3RybFwiKSArIFwiK0NcIjtcbiAgcmV0dXJuIG1lc3NhZ2UucmVwbGFjZSgvI3tcXHMqa2V5XFxzKn0vZywgY29weUtleSk7XG59XG5cbmZ1bmN0aW9uIGNvcHkodGV4dCwgb3B0aW9ucykge1xuICB2YXIgZGVidWcsXG4gICAgbWVzc2FnZSxcbiAgICByZXNlbGVjdFByZXZpb3VzLFxuICAgIHJhbmdlLFxuICAgIHNlbGVjdGlvbixcbiAgICBtYXJrLFxuICAgIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGRlYnVnID0gb3B0aW9ucy5kZWJ1ZyB8fCBmYWxzZTtcbiAgdHJ5IHtcbiAgICByZXNlbGVjdFByZXZpb3VzID0gZGVzZWxlY3RDdXJyZW50KCk7XG5cbiAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgc2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICBtYXJrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgbWFyay50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgLy8gcmVzZXQgdXNlciBzdHlsZXMgZm9yIHNwYW4gZWxlbWVudFxuICAgIG1hcmsuc3R5bGUuYWxsID0gXCJ1bnNldFwiO1xuICAgIC8vIHByZXZlbnRzIHNjcm9sbGluZyB0byB0aGUgZW5kIG9mIHRoZSBwYWdlXG4gICAgbWFyay5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICBtYXJrLnN0eWxlLnRvcCA9IDA7XG4gICAgbWFyay5zdHlsZS5jbGlwID0gXCJyZWN0KDAsIDAsIDAsIDApXCI7XG4gICAgLy8gdXNlZCB0byBwcmVzZXJ2ZSBzcGFjZXMgYW5kIGxpbmUgYnJlYWtzXG4gICAgbWFyay5zdHlsZS53aGl0ZVNwYWNlID0gXCJwcmVcIjtcbiAgICAvLyBkbyBub3QgaW5oZXJpdCB1c2VyLXNlbGVjdCAoaXQgbWF5IGJlIGBub25lYClcbiAgICBtYXJrLnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSBcInRleHRcIjtcbiAgICBtYXJrLnN0eWxlLk1velVzZXJTZWxlY3QgPSBcInRleHRcIjtcbiAgICBtYXJrLnN0eWxlLm1zVXNlclNlbGVjdCA9IFwidGV4dFwiO1xuICAgIG1hcmsuc3R5bGUudXNlclNlbGVjdCA9IFwidGV4dFwiO1xuICAgIG1hcmsuYWRkRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmIChvcHRpb25zLmZvcm1hdCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgZS5jbGlwYm9hcmREYXRhID09PSBcInVuZGVmaW5lZFwiKSB7IC8vIElFIDExXG4gICAgICAgICAgZGVidWcgJiYgY29uc29sZS53YXJuKFwidW5hYmxlIHRvIHVzZSBlLmNsaXBib2FyZERhdGFcIik7XG4gICAgICAgICAgZGVidWcgJiYgY29uc29sZS53YXJuKFwidHJ5aW5nIElFIHNwZWNpZmljIHN0dWZmXCIpO1xuICAgICAgICAgIHdpbmRvdy5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpO1xuICAgICAgICAgIHZhciBmb3JtYXQgPSBjbGlwYm9hcmRUb0lFMTFGb3JtYXR0aW5nW29wdGlvbnMuZm9ybWF0XSB8fCBjbGlwYm9hcmRUb0lFMTFGb3JtYXR0aW5nW1wiZGVmYXVsdFwiXVxuICAgICAgICAgIHdpbmRvdy5jbGlwYm9hcmREYXRhLnNldERhdGEoZm9ybWF0LCB0ZXh0KTtcbiAgICAgICAgfSBlbHNlIHsgLy8gYWxsIG90aGVyIGJyb3dzZXJzXG4gICAgICAgICAgZS5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpO1xuICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKG9wdGlvbnMuZm9ybWF0LCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMub25Db3B5KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgb3B0aW9ucy5vbkNvcHkoZS5jbGlwYm9hcmREYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWFyayk7XG5cbiAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMobWFyayk7XG4gICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgIHZhciBzdWNjZXNzZnVsID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICAgIGlmICghc3VjY2Vzc2Z1bCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29weSBjb21tYW5kIHdhcyB1bnN1Y2Nlc3NmdWxcIik7XG4gICAgfVxuICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWJ1ZyAmJiBjb25zb2xlLmVycm9yKFwidW5hYmxlIHRvIGNvcHkgdXNpbmcgZXhlY0NvbW1hbmQ6IFwiLCBlcnIpO1xuICAgIGRlYnVnICYmIGNvbnNvbGUud2FybihcInRyeWluZyBJRSBzcGVjaWZpYyBzdHVmZlwiKTtcbiAgICB0cnkge1xuICAgICAgd2luZG93LmNsaXBib2FyZERhdGEuc2V0RGF0YShvcHRpb25zLmZvcm1hdCB8fCBcInRleHRcIiwgdGV4dCk7XG4gICAgICBvcHRpb25zLm9uQ29weSAmJiBvcHRpb25zLm9uQ29weSh3aW5kb3cuY2xpcGJvYXJkRGF0YSk7XG4gICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGRlYnVnICYmIGNvbnNvbGUuZXJyb3IoXCJ1bmFibGUgdG8gY29weSB1c2luZyBjbGlwYm9hcmREYXRhOiBcIiwgZXJyKTtcbiAgICAgIGRlYnVnICYmIGNvbnNvbGUuZXJyb3IoXCJmYWxsaW5nIGJhY2sgdG8gcHJvbXB0XCIpO1xuICAgICAgbWVzc2FnZSA9IGZvcm1hdChcIm1lc3NhZ2VcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5tZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2UpO1xuICAgICAgd2luZG93LnByb21wdChtZXNzYWdlLCB0ZXh0KTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgaWYgKHR5cGVvZiBzZWxlY3Rpb24ucmVtb3ZlUmFuZ2UgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVSYW5nZShyYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hcmspIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWFyayk7XG4gICAgfVxuICAgIHJlc2VsZWN0UHJldmlvdXMoKTtcbiAgfVxuXG4gIHJldHVybiBzdWNjZXNzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHk7XG4iLCJjb25zdCBjYm9yID0gaW1wb3J0KFwiLi4vYnVpbGRcIilcbmltcG9ydCBjb3B5IGZyb20gJ2NvcHktdG8tY2xpcGJvYXJkJ1xuXG5jb25zdCBpbnB1dCA9IDxIVE1MVGV4dEFyZWFFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dCcpXG5jb25zdCBzdWJtaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0JylcbmNvbnN0IGhleCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZXgnKVxuY29uc3QgZGlhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFnJylcbmNvbnN0IHNhdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZScpXG5jb25zdCBzYXZlZCA9IDxIVE1MQW5jaG9yRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZWQnKVxuY29uc3QgY29weUJ1dHRvbiA9IDxIVE1MQnV0dG9uRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29weS1idXR0b24nKVxuY29uc3QgY29waWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZCcpXG5cbmZ1bmN0aW9uIHN0b3JlKHNldHRpbmc6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICB0cnkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzZXR0aW5nLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpXG4gIH0gY2F0Y2gge1xuICB9XG59XG5cbmZ1bmN0aW9uIGxvYWQ8VD4oc2V0dGluZzogc3RyaW5nKTogVCB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHNldHRpbmcpKVxuICB9IGNhdGNoIHtcbiAgfVxufVxuXG50cnkge1xuICBjb25zdCBkYXJrID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXJrJylcbiAgaWYgKGRhcmspIHtcbiAgICBzdG9yZSgndGhlbWUnLCBKU09OLnBhcnNlKGRhcmspID8gJ2RhcmsnIDogJ2xpZ2h0JylcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RhcmsnKVxuICB9XG59IGNhdGNoIHtcbn1cblxuY29uc3QgdGhlbWUgPSBsb2FkPHN0cmluZz4oJ3RoZW1lJykgfHwgJ2F1dG8nO1xuXG4oPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaW5wdXRbbmFtZT1cInRoZW1lXCJdW3ZhbHVlPVwiJHt0aGVtZX1cIl1gKSkuY2hlY2tlZCA9IHRydWVcbmRvY3VtZW50LmJvZHkuZGF0YXNldC50aGVtZSA9IHRoZW1lXG5cbmZvciAoY29uc3QgZWwgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MSW5wdXRFbGVtZW50PignaW5wdXRbbmFtZT1cInRoZW1lXCJdJykpIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc3RvcmUoJ3RoZW1lJywgZWwudmFsdWUpXG4gICAgZG9jdW1lbnQuYm9keS5kYXRhc2V0LnRoZW1lID0gZWwudmFsdWVcbiAgfSlcbn1cblxuY2Jvci50aGVuKGNib3IgPT4ge1xuICBmdW5jdGlvbiBwYXJzZSh0eXBlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBsZXQgcmVzdWx0XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICByZXN1bHQgPSBjYm9yLnBhcnNlX2F1dG8odmFsdWUpXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXN1bHQgPSBjYm9yLnBhcnNlX2hleCh2YWx1ZSlcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RpYWcnOlxuICAgICAgICByZXN1bHQgPSBjYm9yLnBhcnNlX2RpYWcodmFsdWUpXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChyZXN1bHQuRXJyKSB7XG4gICAgICB0aHJvdyByZXN1bHQuRXJyXG4gICAgfVxuXG4gICAgaGV4LnRleHRDb250ZW50ID0gcmVzdWx0Lk9rWzBdXG4gICAgZGlhZy50ZXh0Q29udGVudCA9IHJlc3VsdC5Pa1sxXVxuICB9XG5cbiAgY29uc3QgcHJvY2VzcyA9ICgpID0+IHtcbiAgICBjb25zdCB0eXBlID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJ0eXBlXCJdOmNoZWNrZWQnKSkudmFsdWU7XG4gICAgc3RvcmUoJ3R5cGUnLCB0eXBlKVxuICAgIHN0b3JlKCd2YWx1ZScsIGlucHV0LnZhbHVlKVxuICAgIHRyeSB7XG4gICAgICBwYXJzZSh0eXBlLCBpbnB1dC52YWx1ZSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGhleC50ZXh0Q29udGVudCA9IGVyclxuICAgICAgZGlhZy50ZXh0Q29udGVudCA9ICcnXG4gICAgfVxuICB9XG5cbiAgY29uc3QgdHJ5UHJvY2VzcyA9ICgpID0+IHtcbiAgICBjb25zdCB0eXBlID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJ0eXBlXCJdOmNoZWNrZWQnKSkudmFsdWU7XG4gICAgdHJ5IHtcbiAgICAgIHBhcnNlKHR5cGUsIGlucHV0LnZhbHVlKVxuICAgICAgc3RvcmUoJ3R5cGUnLCB0eXBlKVxuICAgICAgc3RvcmUoJ3ZhbHVlJywgaW5wdXQudmFsdWUpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBGYWlsdXJlIHdoaWxlIHRyeWluZzogJHtlcnJ9YClcbiAgICB9XG4gIH1cblxuICBzdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcm9jZXNzKVxuXG4gIHNhdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgdHlwZSA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwidHlwZVwiXTpjaGVja2VkJykpLnZhbHVlXG4gICAgbGV0IHVybCA9IG5ldyBVUkwoZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKSlcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInR5cGVcIiwgdHlwZSlcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInZhbHVlXCIsIGlucHV0LnZhbHVlKVxuICAgIHNhdmVkLmhyZWYgPSB1cmwudG9TdHJpbmcoKVxuICAgIHNhdmVkLnRleHQgPSAnUGVybWFsaW5rIHRvIHRoZSBwbGF5Z3JvdW5kJ1xuICAgIGNvcHlCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snXG4gIH0pXG5cbiAgbGV0IGNvcHlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7fSwgMClcbiAgY29weUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoY29weShzYXZlZC5ocmVmLCB7IGZvcm1hdDogJ3RleHQvcGxhaW4nIH0pKSB7XG4gICAgICBjb3BpZWQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snXG4gICAgICBjb3BpZWQuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IDAuMXMnXG4gICAgICBjb3BpZWQuc3R5bGUub3BhY2l0eSA9ICcxJ1xuICAgICAgY2xlYXJUaW1lb3V0KGNvcHlUaW1lb3V0KVxuICAgICAgY29weVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29waWVkLnN0eWxlLnRyYW5zaXRpb24gPSAnb3BhY2l0eSA1cydcbiAgICAgICAgY29waWVkLnN0eWxlLm9wYWNpdHkgPSAnMCdcbiAgICAgICAgY29weVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjb3BpZWQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICB9LCA1MDAwKVxuICAgICAgfSwgMTAwKVxuICAgIH1cbiAgfSlcblxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgaWYgKGUua2V5Q29kZSA9PSAxMyAmJiAoZS5tZXRhS2V5IHx8IGUuY3RybEtleSkpIHtcbiAgICAgIHByb2Nlc3MoKVxuICAgIH1cbiAgfSlcblxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICB0cnlQcm9jZXNzKClcbiAgfSlcblxuICBsZXQgdXJsID0gbmV3IFVSTChkb2N1bWVudC5sb2NhdGlvbi50b1N0cmluZygpKTtcbiAgbGV0IHR5cGUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInR5cGVcIik7XG4gIGxldCB2YWx1ZSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwidmFsdWVcIik7XG5cbiAgaWYgKCF0eXBlIHx8ICF2YWx1ZSkge1xuICAgIHR5cGUgPSBsb2FkKCd0eXBlJylcbiAgICB2YWx1ZSA9IGxvYWQoJ3ZhbHVlJylcbiAgfVxuXG4gIGlmICghdmFsdWUpIHtcbiAgICB0eXBlID0gJ2hleCdcbiAgICB2YWx1ZSA9ICdiZjYzNDY3NTZlZjU2MzQxNmQ3NDIxZmYnXG4gIH1cblxuICBpZiAodHlwZSAmJiB2YWx1ZSkge1xuICAgICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBpbnB1dFtuYW1lPVwidHlwZVwiXVt2YWx1ZT1cIiR7dHlwZX1cIl1gKSkuY2hlY2tlZCA9IHRydWU7XG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICBwYXJzZSh0eXBlLCB2YWx1ZSk7XG4gIH1cblxufSwgZXJyID0+IGhleC50ZXh0Q29udGVudCA9IGVycilcbiIsIlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcbiAgaWYgKCFzZWxlY3Rpb24ucmFuZ2VDb3VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgfVxuICB2YXIgYWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICB2YXIgcmFuZ2VzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0aW9uLnJhbmdlQ291bnQ7IGkrKykge1xuICAgIHJhbmdlcy5wdXNoKHNlbGVjdGlvbi5nZXRSYW5nZUF0KGkpKTtcbiAgfVxuXG4gIHN3aXRjaCAoYWN0aXZlLnRhZ05hbWUudG9VcHBlckNhc2UoKSkgeyAvLyAudG9VcHBlckNhc2UgaGFuZGxlcyBYSFRNTFxuICAgIGNhc2UgJ0lOUFVUJzpcbiAgICBjYXNlICdURVhUQVJFQSc6XG4gICAgICBhY3RpdmUuYmx1cigpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgYWN0aXZlID0gbnVsbDtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHNlbGVjdGlvbi50eXBlID09PSAnQ2FyZXQnICYmXG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuXG4gICAgaWYgKCFzZWxlY3Rpb24ucmFuZ2VDb3VudCkge1xuICAgICAgcmFuZ2VzLmZvckVhY2goZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGFjdGl2ZSAmJlxuICAgIGFjdGl2ZS5mb2N1cygpO1xuICB9O1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=